<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript</title>
    <style>
        label {
            display: inline-block;
            min-width: 200px;
        }
    </style>

</head>
<body>
    <h1>Les formulaires en HTML</h1>

    <form method="post" action="traitement.php">
        <label for="prenom">Entrez votre prénom :</label>
        <input type="text" name="prenom" id="prenom" required="required" maxlength="20">
        <span id="prenom_manquant"></span><br>

        <label for="mail">Entrez votre email :</label>
        <input type="email" name="mail" id="mail"><br>

        <label for="tel">Numéro de téléphone:</label>
        <input type="tel" name="tel" id="tel"><br>

        <input type="submit" value="Envoyer" id="bouton_envoi">
    </form>

    <script>
        let validation = document.getElementById("bouton_envoi");
        let prenom = document.getElementById("prenom");
        let prenom_m = document.getElementById("prenom_manquant");
        let prenom_v = /^[a-zA-Zéèîï][a-zéèêàçîï]+([-'\s][a-zA-Zéèîï][a-zéèêàçîï]+)?/
        validation.addEventListener("click", f_valid);

        function f_valid(e){
            if (prenom.validity.valueMissing) {
                e.preventDefault(); // Empêche l'envoi du formulaire
                prenom_m.textContent = 'Prénom manquant';
                prenom_m.style.color = 'red';
            }else if (prenom_v.test(prenom.value) === false) {
                e.preventDefault(); // Empêche l'envoi du formulaire
                prenom_m.textContent = 'Prénom invalide';
                prenom_m.style.color = 'orange';
            } else {
                prenom_m.textContent = ''; // Efface le message d'erreur
            }
        }
    </script>
</body>
</html> 
